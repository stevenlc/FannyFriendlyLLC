<% include ../partials/header %>

<!-- This is /products/new -->
<!-- It has access to a single product, and errorMessage -->

<% if (errorMessage && errorMessage.length > 0) { var showValues = true; %>
<div class="text-center" id="flash-content-div">
    <div class="alert alert-danger" role="alert">
        <%= errorMessage %>
    </div>
</div>
<% } else { var showValues = false; } %>

<div class="container pt-5 mt-5">
    <h1>Add a New Product (Admin Only)</h1>
    <form id="new-form" action="/products" method="POST">
        <div class="form-group row">
            <label class="col-sm-2 col-form-label" for="name">Name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="name" name="product[name]" placeholder="e.g. Direct Attached Bidet" 
                    <% if (showValues) { %>value="<%= product.name %><%}%>" required>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label" for="durl">Product Unique URL</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="url" name="product[url]" placeholder="e.g. direct-attached-bidet"
                    <% if (showValues) { %>value="<%= product.url %><%}%>" required>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label" for="image">Image</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="image" name="product[image]" placeholder="e.g. https://i.imgur.com/BRMNVc9.png"
                    <% if (showValues) { %>value="<%= product.image %>"<%}%> >
            </div>
        </div>
        <div class="form-group row">
            <label for="description">Description</label>
            <textarea class="form-control" id="description" name="product[description]" rows="5" placeholder="e.g. One or two liner describing benefits, etc."><% if (showValues){%><%- product.description %><%}%></textarea>
        </div>
        <div class="form-group row">
            <button class="btn btn-lg btn-success btn-block">Submit</button>
        </div>
    </form>
    <a href="/products">&lt; back to list of products</a>
</div>

<% include ../partials/footer %>

